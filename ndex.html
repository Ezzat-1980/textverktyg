<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snabbt Textverktyg - Allt-i-ett</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6696113059842943"
     crossorigin="anonymous"></script>
    <style>
        /* Här kommer all din CSS-styling */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 30px;
        }
        textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box; /* Inkludera padding i bredden */
            resize: vertical; /* Tillåter vertikal storleksändring */
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            font-size: 1.1em;
            color: #555;
            flex-wrap: wrap;
        }
        .stat-item {
            text-align: center;
            margin: 10px;
        }
        .stat-value {
            font-weight: bold;
            color: #0056b3;
            font-size: 1.3em;
        }

        /* Styling för knappar */
        .tool-section {
            margin-bottom: 25px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        .tool-section h2 {
            text-align: center;
            color: #0056b3;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        .tool-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .tool-buttons button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }
        .tool-buttons button:hover {
            background-color: #0056b3;
        }
        /* Styling för rensa-knappen */
        .clear-button {
            background-color: #dc3545 !important;
        }
        .clear-button:hover {
            background-color: #c82333 !important;
        }

        /* Styling för resultatvisning av extraherad text (Oförändrad) */
        .result-display {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            min-height: 50px;
            background-color: #f9f9f9;
            font-size: 16px;
            line-height: 1.5;
            word-wrap: break-word;
            white-space: pre-wrap;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
        }

        /* Styling för Sök och Ersätt-fält (Oförändrad) */
        .find-replace-inputs {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }
        .find-replace-inputs input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Textanalysator & Textverktyg</h1>
        <textarea id="textInput" placeholder="Klistra in din text här för analys, omvandling, rensning, extrahering och sök/ersätt..." oninput="updateStats()"></textarea>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="wordCount">0</div>
                <div class="stat-label">Ord</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="charCount">0</div>
                <div class="stat-label">Tecken (inkl. mellanslag)</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="charNoSpaceCount">0</div>
                <div class="stat-label">Tecken (exkl. mellanslag)</div>
            </div>
        </div>

        <div class="tool-section">
            <h2>Textomvandling</h2>
            <div class="tool-buttons">
                <button onclick="convertToUppercase()">VERSALER</button>
                <button onclick="convertToLowercase()">gemener</button>
                <button onclick="convertToSentenceCase()">Meningsfall</button>
                <button onclick="convertToTitleCase()">Titelfall</button>
            </div>
        </div>

        <div class="tool-section">
            <h2>Textmanipulation</h2>
            <div class="tool-buttons">
                <button onclick="reverseText()">Omvänd Text</button>
                <button onclick="reverseWordOrder()">Omvänd Ordordning</button>
            </div>
        </div>


        <div class="tool-section">
            <h2>Textrensning</h2>
            <div class="tool-buttons">
                <button onclick="removeExtraSpaces()">Ta bort extra mellanslag</button>
                <button onclick="removeEmptyLines()">Ta bort tomma rader</button>
                <button onclick="removeNumbers()">Ta bort siffror</button>
                <button onclick="removeDuplicateLines()">Ta bort dubblettrader</button>
                <button class="clear-button" onclick="clearText()">Rensa text</button>
            </div>
        </div>

        <div class="tool-section">
            <h2>Extrahera & Filtrera</h2>
            <div class="tool-buttons">
                <button onclick="extractEmails()">Extrahera E-postadresser</button>
                <button onclick="extractURLs()">Extrahera URL:er</button>
                <button onclick="clearExtractionResult()" class="clear-button">Rensa resultat</button>
            </div>
            <h3>Extraherade Resultat</h3>
            <div id="extractionResult" class="result-display">
                Här visas extraherade e-postadresser, URL:er eller andra resultat.
            </div>
        </div>

        <div class="tool-section">
            <h2>Sök och Ersätt</h2>
            <div class="find-replace-inputs">
                <input type="text" id="findInput" placeholder="Sök efter text..." />
                <input type="text" id="replaceInput" placeholder="Ersätt med..." />
            </div>
            <div class="tool-buttons">
                <button onclick="findAndReplace()">Ersätt alla</button>
            </div>
        </div>

    </div>

    <script>
        // Här kommer all din JavaScript-funktionalitet

        // Funktion för att uppdatera statistik (Oförändrad)
        function updateStats() {
            const text = document.getElementById('textInput').value;
            const words = text.match(/\b\w+\b/g);
            const wordCount = words ? words.length : 0;
            const charCount = text.length;
            const charNoSpaceCount = text.replace(/\s/g, '').length;

            document.getElementById('wordCount').textContent = wordCount;
            document.getElementById('charCount').textContent = charCount;
            document.getElementById('charNoSpaceCount').textContent = charNoSpaceCount;
        }

        // Funktioner för textomvandling (Oförändrade)
        function convertToUppercase() {
            const textInput = document.getElementById('textInput');
            textInput.value = textInput.value.toUpperCase();
            updateStats();
        }

        function convertToLowercase() {
            const textInput = document.getElementById('textInput');
            textInput.value = textInput.value.toLowerCase();
            updateStats();
        }

        function convertToSentenceCase() {
            const textInput = document.getElementById('textInput');
            let text = textInput.value.toLowerCase();
            text = text.replace(/(^\s*\w|[.!?]\s*\w)/g, function(match) {
                return match.toUpperCase();
            });
            textInput.value = text;
            updateStats();
        }

        function convertToTitleCase() {
            const textInput = document.getElementById('textInput');
            let text = textInput.value.toLowerCase();
            text = text.replace(/\b\w/g, function(char) {
                return char.toUpperCase();
            });
            textInput.value = text;
            updateStats();
        }

        // NYTT: Funktioner för textmanipulation
        function reverseText() {
            const textInput = document.getElementById('textInput');
            // Delar upp strängen i en array av tecken, vänder på arrayen, och sätter ihop den igen
            textInput.value = textInput.value.split('').reverse().join('');
            updateStats();
        }

        function reverseWordOrder() {
            const textInput = document.getElementById('textInput');
            // Delar upp strängen i en array av ord (separerade med ett eller flera mellanslag)
            // Vänder på arrayen och sätter ihop den igen med ett mellanslag mellan varje ord
            textInput.value = textInput.value.split(/\s+/).reverse().join(' ');
            updateStats();
        }

        // Funktioner för textrensning (Oförändrade)
        function removeExtraSpaces() {
            const textInput = document.getElementById('textInput');
            let text = textInput.value.replace(/\s+/g, ' ').trim();
            textInput.value = text;
            updateStats();
        }

        function removeEmptyLines() {
            const textInput = document.getElementById('textInput');
            let lines = textInput.value.split('\n');
            let filteredLines = lines.filter(line => line.trim() !== '');
            textInput.value = filteredLines.join('\n');
            updateStats();
        }

        function removeNumbers() {
            const textInput = document.getElementById('textInput');
            let text = textInput.value.replace(/\d/g, '');
            textInput.value = text;
            updateStats();
        }

        function removeDuplicateLines() {
            const textInput = document.getElementById('textInput');
            const lines = textInput.value.split('\n');
            const uniqueLines = [...new Set(lines.map(line => line.trim()))];
            const filteredUniqueLines = uniqueLines.filter(line => line !== '');
            textInput.value = filteredUniqueLines.join('\n');
            updateStats();
        }

        function clearText() {
            const textInput = document.getElementById('textInput');
            textInput.value = '';
            updateStats();
        }

        // Funktioner för Extrahera & Filtrera (Oförändrade)
        function extractEmails() {
            const text = document.getElementById('textInput').value;
            const resultDiv = document.getElementById('extractionResult');

            const emailRegex = /\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/g;
            const foundEmails = text.match(emailRegex);

            if (foundEmails && foundEmails.length > 0) {
                const uniqueEmails = [...new Set(foundEmails)].sort();
                resultDiv.textContent = uniqueEmails.join('\n');
            } else {
                resultDiv.textContent = "Inga e-postadresser hittades.";
            }
        }

        function extractURLs() {
            const text = document.getElementById('textInput').value;
            const resultDiv = document.getElementById('extractionResult');

            const urlRegex = /(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/[a-zA-Z0-9]+\.[^\s]{2,}|[a-zA-Z0-9]+\.[^\s]{2,})/g;
            const foundURLs = text.match(urlRegex);

            if (foundURLs && foundURLs.length > 0) {
                const uniqueURLs = [...new Set(foundURLs)].sort();
                resultDiv.textContent = uniqueURLs.join('\n');
            } else {
                resultDiv.textContent = "Inga URL:er hittades.";
            }
        }

        function clearExtractionResult() {
            document.getElementById('extractionResult').textContent = "Här visas extraherade e-postadresser, URL:er eller andra resultat.";
        }

        // Funktion för Sök och Ersätt (Oförändrad)
        function findAndReplace() {
            const textInput = document.getElementById('textInput');
            const findText = document.getElementById('findInput').value;
            const replaceText = document.getElementById('replaceInput').value;

            if (!findText) {
                alert("Vänligen ange text att söka efter.");
                return;
            }

            const escapedFindText = findText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            const regex = new RegExp(escapedFindText, 'g');

            textInput.value = textInput.value.replace(regex, replaceText);
            updateStats();
        }

    </script>

</body>
</html>
